@let emailCtrl = loginForm.get('email');
@let passwordCtrl = loginForm.get('password');

<div class="login__wrapper">
  <div class="login__card">
    <h2>Login</h2>

    <form [formGroup]="loginForm" (ngSubmit)="login()">

      <!-- Email Field -->
      <mat-form-field class="login__form-field">
        <mat-label>Enter your email</mat-label>
        <input matInput type="email" formControlName="email" required />
        @if (emailCtrl!.invalid && emailCtrl!.touched) {
        <mat-error>Invalid email</mat-error>
        }
      </mat-form-field>
      <!-- Password Field -->
      <mat-form-field class="login__form-field">
        <mat-label>Enter your password</mat-label>
        <input matInput [type]="hidePassword() ? 'password' : 'text'" formControlName="password" required />
        <button matIconButton matSuffix (click)="togglePasswordVisibility($event)" [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hidePassword()">
          <mat-icon>{{hidePassword() ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        @if (passwordCtrl!.invalid && passwordCtrl!.touched) {
        <mat-error>Password required</mat-error>
        }
      </mat-form-field>


      <div class="login__options">
        <a href="#">Forgot password?</a>
      </div>
      <div class="login__button-container">
        <button type="submit" mat-raised-button color="primary" class="w-full mt-4" [disabled]="loginForm.invalid">
          Login
        </button>
      </div>
      @if (loginForm.errors?.['invalidLogin']) {
      <div class="login__error-message">Invalid email or password</div>
      }
    </form>
  </div>
</div>